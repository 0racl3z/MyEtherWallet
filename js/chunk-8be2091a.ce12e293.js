(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8be2091a"],{36:function(e,t){},"366d":function(e,t,n){},37:function(e,t){},"3c35f":function(e,t,n){"use strict";var a=[{name:"email",type:"email"},{name:"url",type:"url"},{name:"avatar",type:"url"},{name:"description",type:"string"},{name:"notice",type:"string"},{name:"keywords",type:"string"},{name:"vnd.twitter",type:"string"},{name:"vnd.github",type:"string"}];t["a"]=a},5337:function(e,t,n){"use strict";var a=[{constant:!0,inputs:[{name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"ens",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"transferPeriodEnds",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"MIGRATION_LOCK_PERIOD",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"previousRegistrar",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"GRACE_PERIOD",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"controllers",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"baseNode",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_ens",type:"address"},{name:"_previousRegistrar",type:"address"},{name:"_baseNode",type:"bytes32"},{name:"_transferPeriodEnds",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"controller",type:"address"}],name:"ControllerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"controller",type:"address"}],name:"ControllerRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"id",type:"uint256"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"expires",type:"uint256"}],name:"NameMigrated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"id",type:"uint256"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"expires",type:"uint256"}],name:"NameRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"id",type:"uint256"},{indexed:!1,name:"expires",type:"uint256"}],name:"NameRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"approved",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!0,inputs:[{name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"controller",type:"address"}],name:"addController",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"controller",type:"address"}],name:"removeController",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"resolver",type:"address"}],name:"setResolver",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"nameExpires",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"available",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"},{name:"owner",type:"address"},{name:"duration",type:"uint256"}],name:"register",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"},{name:"duration",type:"uint256"}],name:"renew",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"id",type:"uint256"},{name:"owner",type:"address"}],name:"reclaim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"label",type:"bytes32"},{name:"deed",type:"address"},{name:"",type:"uint256"}],name:"acceptRegistrarTransfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"}];t["a"]=a},"83c6":function(e,t,n){"use strict";t["a"]=[{inputs:[{internalType:"contract ENS",name:"_old",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"ttl",type:"uint64"}],name:"NewTTL",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"old",outputs:[{internalType:"contract ENS",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"owner",type:"address"}],name:"setOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setRecord",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"resolver",type:"address"}],name:"setResolver",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"label",type:"bytes32"},{internalType:"address",name:"owner",type:"address"}],name:"setSubnodeOwner",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"label",type:"bytes32"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setSubnodeRecord",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setTTL",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"}]},"9e8b":function(e,t,n){"use strict";var a=n("366d"),r=n.n(a);r.a},b590:function(e,t,n){"use strict";(function(e){n("4de4"),n("7db0"),n("4160"),n("a15b"),n("baa5"),n("d81d"),n("b0c0"),n("b680"),n("b64b"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("1276"),n("159b"),n("ddb0"),n("96cf");var a=n("c964"),r=n("f3f3"),s=n("572c"),i=n("c02d"),o=n("5337"),p=n("83c6"),u=n("d9f9"),d=n("9547"),c=n("70c1"),m=n("2c0b"),l=n("7856"),y=n("2f62"),b=n("ce96"),f=n("51db"),h=n.n(f),w=n("901e"),g=n.n(w),v=n("1f3b"),x=n("3c35f"),T=n("29c9"),R={INTERFACE_CONTROLLER:"0x018fac06",INTERFACE_LEGACY_REGISTRAR:"0x7ba18ba1"},C="0xf1cb7e06",M="0x59d1d43c",k={FIFS:"fifs",PERMANENT:"permanent"};t["a"]={components:{"back-button":s["a"]},data:function(){return{domainName:"",loading:!1,nameHash:"",labelHash:"",owner:"",deedOwner:"",secretPhrase:"",registrarAddress:"",raw:{},contractInitiated:!1,step:1,domainNameErr:!1,ensRegistryContract:{},dnsRegistrar:{},dnsClaim:{},dnsOwner:"",minimumAge:0,duration:1,commitmentCreated:!1,publicResolverAddress:"",resolverMultiCoinSupport:!1,supportedCoins:v["a"],txtRecords:{},supportedTxt:x["a"],recordContract:{},resolverTxtSupport:!1,usd:0}},computed:Object(r["a"])({},Object(y["c"])("main",["web3","network","account","gasPrice","ens"]),{registrarTLD:function(){return this.network.type.ens.registrarTLD},registrarType:function(){return this.network.type.ens.registrarType},multiTld:function(){return this.network.type.ens.hasOwnProperty("supportedTld")&&this.network.type.ens.supportedTld.length>1},parsedTld:function(){if(this.parsedHostName.length){var e=this.domainName.lastIndexOf(".");return e>-1?this.domainName.substr(e+1,this.domainName.length):this.registrarTLD}return""},parsedHostName:function(){return this.domainName.substr(0,this.domainName.lastIndexOf(".")>-1?this.domainName.lastIndexOf("."):this.domainName.length)},parsedDomainName:function(){return this.parsedHostName+"."+this.parsedTld},isSubDomain:function(){return this.domainName.split(".").length-1>1}}),watch:{ens:function(e){e&&this.setRegistrar()}},mounted:function(){var e=this;this.$nextTick((function(){e.setup()})),this.fetchUsd()},methods:{fetchUsd:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="https://cryptorates.mewapi.io/ticker?filter=ETH",t.next=3,fetch(n);case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,e.usd=r.data.ETH.quotes.USD.price;case 8:case"end":return t.stop()}}),t)})))()},setup:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in e.isPermanentLive=!0,e.domainName="",e.loading=!1,e.nameHash="",e.labelHash="",e.owner="",e.deedOwner="",e.secretPhrase="",e.registrarAddress="",e.raw={},e.contractInitiated=!1,e.step=1,e.contractInitiated=!1,e.contractInitiated=!0,e.domainNameErr=!1,e.dnsRegistrar={},e.dnsClaim={},e.minimumAge=0,e.duration=1,e.commitmentCreated=!1,e.publicResolverAddress="",e.resolverMultiCoinSupport=!1,e.resolverTxtSupport=!1,e.supportedCoins=v["a"],e.txtRecords={},e.recordContract={},e.ens&&e.setRegistrar(),e.supportedCoins)e.supportedCoins[n].value="";case 28:case"end":return t.stop()}}),t)})))()},setRegistrar:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.web3,a=e.registrarTLD,t.next=4,e.getRegistrarAddress(a);case 4:if(e.registrarAddress=t.sent,e.ensRegistryContract=new n.eth.Contract(p["a"],e.network.type.ens.registry),e.registrarType!==k.FIFS){t.next=10;break}e.registrarContract=new n.eth.Contract(u["a"],e.registrarAddress),t.next=24;break;case 10:if(e.registrarType!==k.PERMANENT){t.next=24;break}return t.prev=11,t.next=14,e.ens.resolver(e.registrarTLD,d["a"]).interfaceImplementer(R.INTERFACE_CONTROLLER);case 14:r=t.sent,e.registrarControllerContract=new e.web3.eth.Contract(i["a"],r),e.registrarContract=new e.web3.eth.Contract(o["a"],e.registrarAddress),t.next=24;break;case 19:t.prev=19,t.t0=t["catch"](11),e.isPermanentLive=!1,s=e.$t("ens.error.permanent-not-available"),b["e"].responseHandler(s,b["e"].ERROR);case 24:case"end":return t.stop()}}),t,null,[[11,19]])})))()},transferDomain:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a={from:t.account.address,to:t.network.type.ens.registry,data:t.ensRegistryContract.methods.setOwner(t.nameHash,e).encodeABI(),value:0,gas:1e5},t.registrarType===k.FIFS?t.web3.eth.sendTransaction(a).catch((function(e){b["e"].responseHandler(e,!1)})):t.registrarType===k.PERMANENT&&(r={from:t.account.address,to:t.registrarAddress,data:t.registrarContract.methods.safeTransferFrom(t.account.address,e,t.labelHash).encodeABI(),value:0,gas:1e5},t.web3.mew.sendBatchTransactions([a,r].filter(Boolean)));case 2:case"end":return n.stop()}}),n)})))()},getDecodedAddress:function(e){var t="0x";return""!==e.value&&e.value&&(t=e.decode(e.value)),t},resolverMigrateAndSet:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i,o,p,u,m,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.web3,a=e.account.address,r=e.publicResolverAddress,t.next=5,e.ensRegistryContract.methods.resolver(e.nameHash).call();case 5:if(s=t.sent,r.toLowerCase()!==s.toLowerCase()){t.next=8;break}return t.abrupt("return",!1);case 8:for(u in i=new n.eth.Contract(d["a"],r),o={from:a,to:e.network.type.ens.registry,data:e.ensRegistryContract.methods.setResolver(e.nameHash,r).encodeABI(),value:0,gasPrice:new g.a(c["toWei"](e.gasPrice,"gwei")).toFixed()},p=[],e.supportedCoins)e.supportedCoins[u].value&&p.push(i.methods.setAddr(e.nameHash,e.supportedCoins[u].id,e.getDecodedAddress(e.supportedCoins[u])).encodeABI());for(m in e.txtRecords)e.txtRecords[m]&&p.push(e.recordContract.methods.setText(e.nameHash,m,e.txtRecords[m]).encodeABI());return l={from:a,to:r,data:i.methods.multicall(p).encodeABI(),value:0,gasPrice:new g.a(c["toWei"](e.gasPrice,"gwei")).toFixed()},n.mew.sendBatchTransactions([l,o].filter(Boolean)),t.abrupt("return",!0);case 16:case"end":return t.stop()}}),t)})))()},setMultiCoin:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,o,p,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.forEach((function(e){t.supportedCoins[e.symbol].value=e.value})),n.next=3,t.resolverMigrateAndSet();case 3:if(a=n.sent,!a){n.next=6;break}return n.abrupt("return");case 6:r=t.web3,s=t.account.address,i=t.publicResolverAddress,o=new r.eth.Contract(d["a"],i),p=e.map((function(e){return o.methods.setAddr(t.nameHash,e.id,t.getDecodedAddress(e)).encodeABI()})),u={from:s,to:i,data:o.methods.multicall(p).encodeABI(),value:0,gasPrice:new g.a(c["toWei"](t.gasPrice,"gwei")).toFixed(),gas:1e5},r.eth.sendTransaction(u).catch((function(e){b["e"].responseHandler(e,!1)}));case 13:case"end":return n.stop()}}),n)})))()},registerFifsName:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.account.address,a=e.web3,t.next=4,e.registrarContract.methods.register(e.labelHash,n).encodeABI();case 4:r=t.sent,s={from:n,value:0,to:e.registrarAddress,data:r},i={from:n,to:e.network.type.ens.registry,data:e.ensRegistryContract.methods.setResolver(e.nameHash,e.publicResolverAddress).encodeABI(),value:0,gas:1e5,gasPrice:new g.a(c["toWei"](e.gasPrice,"gwei")).toFixed()},a.mew.sendBatchTransactions([s,i].filter(Boolean)).catch((function(e){b["e"].responseHandler(e,!1)}));case 8:case"end":return t.stop()}}),t)})))()},getRegistrarAddress:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.ens.owner(e);case 2:return a=n.sent,n.abrupt("return",a);case 4:case"end":return n.stop()}}),n)})))()},checkDomain:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i,o,p,u,d,c,l,y,f,w;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.network.type.ens.supportedTld,a=n.find((function(t){return t===e.parsedTld})),e.loading=!0,r=e.web3,e.labelHash=r.utils.sha3(e.parsedHostName),e.nameHash=m["hash"](e.parsedDomainName),t.next=8,e.ens.resolver("resolver.eth");case 8:return s=t.sent,t.next=11,s.addr();case 11:if(e.publicResolverAddress=t.sent,""===e.parsedTld||void 0!==a){t.next=18;break}i=e.$t("ens.error.domain-tld-not-supported",{parsedTld:e.parsedTld}),b["e"].responseHandler(i,b["e"].ERROR),e.loading=!1,t.next=74;break;case 18:if(e.parsedTld!==e.registrarTLD){t.next=52;break}if(t.prev=19,e.registrarType!==k.FIFS||e.isSubDomain){t.next=28;break}return t.next=23,e.registrarContract.methods.expiryTimes(e.labelHash).call();case 23:o=t.sent,p=1e3*o<(new Date).getTime(),p?(e.$router.push({path:"manage-ens/fifs"}),e.loading=!1):(e.getMoreInfo(),e.loading=!1),t.next=44;break;case 28:if(e.registrarType!==k.PERMANENT||e.isSubDomain){t.next=39;break}if(e.isPermanentLive){t.next=33;break}return u=e.$t("ens.error.permanent-not-available"),b["e"].responseHandler(u,b["e"].ERROR),t.abrupt("return");case 33:return t.next=35,e.registrarControllerContract.methods.available(e.parsedHostName).call();case 35:d=t.sent,d?(e.generateKeyPhrase(),e.$router.push({path:"manage-ens/create-commitment"}),e.loading=!1):e.getMoreInfo(),t.next=44;break;case 39:if(!e.isSubDomain){t.next=44;break}return t.next=42,e.ens.owner(e.parsedDomainName);case 42:c=t.sent,"0x0000000000000000000000000000000000000000"===c?b["e"].responseHandler("This subdomain is not owned",b["e"].WARN):e.getMoreInfo();case 44:t.next=50;break;case 46:t.prev=46,t.t0=t["catch"](19),b["e"].responseHandler(t.t0,!1),e.loading=!1;case 50:t.next=74;break;case 52:return t.prev=52,t.next=55,e.ens.owner(e.parsedTld);case 55:return l=t.sent,e.dnsRegistrar=new h.a(e.web3.currentProvider,l),t.next=59,e.dnsRegistrar.claim(e.parsedDomainName);case 59:return e.dnsClaim=t.sent,t.next=62,e.ens.owner(e.parsedDomainName);case 62:return y=t.sent,t.next=65,e.ensRegistryContract.methods.recordExists(m["hash"](e.parsedDomainName)).call();case 65:f=t.sent,e.dnsClaim.result.found&&!f?(e.dnsOwner=e.dnsClaim.getOwner(),e.processDNSresult("dnsClaimable")):e.dnsClaim.result.found&&e.dnsClaim.getOwner().toLowerCase()===y.toLowerCase()?e.getMoreInfo():e.dnsClaim.result.found?(e.dnsOwner=e.dnsClaim.getOwner(),e.processDNSresult("dnsClaimable")):e.dnsClaim.result.nsec?(e.owner=y,e.processDNSresult("dnsMissingTXT")):e.processDNSresult("dnsNotSetup"),t.next=74;break;case 69:t.prev=69,t.t1=t["catch"](52),e.loading=!1,w=e.$t("ens.error.something-went-wrong"),b["e"].responseHandler(w,b["e"].ERROR);case 74:case"end":return t.stop()}}),t,null,[[19,46],[52,69]])})))()},createCommitment:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.web3.utils,t.prev=1,t.next=4,e.registrarControllerContract.methods.makeCommitmentWithConfig(e.parsedHostName,e.account.address,n.sha3(e.secretPhrase),e.publicResolverAddress,e.account.address).call();case 4:return a=t.sent,t.next=7,e.registrarControllerContract.methods.minCommitmentAge().call();case 7:return e.minimumAge=t.sent,e.minimumAge="".concat(parseInt(e.minimumAge)+30),t.next=11,e.registrarControllerContract.methods.commit(a).send({from:e.account.address}).once("transactionHash",(function(){e.$router.push({path:"permanent-registration"})})).on("receipt",(function(){e.loading=!1,e.commitmentCreated=!0}));case 11:t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](1),e.loading=!1,b["e"].responseHandler(t.t0,b["e"].ERROR);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))()},registerWithDuration:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.web3.utils,e.loading=!0,a=31557600,r=Math.ceil(a*e.duration),t.prev=4,s=e.$t("ens.toast.success-register"),t.next=8,e.registrarControllerContract.methods.rentPrice(e.parsedHostName,r).call();case 8:i=t.sent,e.registrarControllerContract.methods.registerWithConfig(e.parsedHostName,e.account.address,r,n.sha3(e.secretPhrase),e.publicResolverAddress,e.account.address).send({from:e.account.address,value:i}).once("transactionHash",(function(){e.$router.push({path:"registration-in-progress"})})).once("receipt",(function(){e.getMoreInfo(),b["e"].responseHandler(s,b["e"].SUCCESS)})),t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](4),e.loading=!1,o=e.$t("ens.error.something-went-wrong"),b["e"].responseHandler(o,b["e"].ERROR);case 17:case"end":return t.stop()}}),t,null,[[4,12]])})))()},claimFunc:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.dnsClaim.submit({from:e.account.address});case 4:e.loading=!1,t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](1),e.loading=!1,n=e.$t("ens.error.something-went-wrong"),b["e"].responseHandler(n,b["e"].ERROR);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})))()},updateStep:function(e){this.step=e},processDNSresult:function(e){switch(this.loading=!1,e){case"dnsOwned":this.$router.push({path:"manage-ens/dns-owned"});break;case"dnsClaimable":this.$router.push({path:"manage-ens/claim"});break;case"dnsNotSetup":this.$router.push({path:"manage-ens/dns-error"});break;case"dnsMissingTXT":this.$router.push({path:"manage-ens/no-txt-setup"});break}},updateDomainName:function(e){try{this.domainName=Object(l["a"])(e)}catch(t){return b["e"].responseHandler(t,b["e"].WARN),void(this.domainNameErr=!0)}this.parsedTld===this.registrarTLD?this.domainNameErr="0x"===e.substr(0,2)||this.parsedHostName.length<3:this.domainNameErr=!1},getMoreInfo:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,o,p,u,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,t.registrarType!==k.PERMANENT||t.parsedTld!==t.registrarTLD||t.isSubDomain){n.next=7;break}return n.next=4,t.registrarContract.methods.ownerOf(t.labelHash).call();case 4:a=n.sent,n.next=10;break;case 7:return n.next=9,t.ens.owner(t.parsedDomainName);case 9:a=n.sent;case 10:n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](0),a="0x",b["e"].responseHandler(n.t0,!1);case 16:return n.prev=16,r=new t.web3.eth.Contract(d["a"],t.publicResolverAddress),n.next=20,r.methods.supportsInterface(C).call();case 20:t.resolverMultiCoinSupport=n.sent,n.next=26;break;case 23:n.prev=23,n.t1=n["catch"](16),t.resolverMultiCoinSupport=!1;case 26:return n.prev=26,n.next=29,t.ensRegistryContract.methods.resolver(t.nameHash).call();case 29:return s=n.sent,i=new t.web3.eth.Contract(d["a"],s),t.fetchTxtRecords(i),n.next=34,i.methods.supportsInterface(C).call();case 34:for(p in o=n.sent,t.supportedCoins)t.supportedCoins[p].value="";if(!o){n.next=44;break}return u=[],c=Object.keys(t.supportedCoins),c.forEach((function(e){u.push(t.ens.resolver(t.parsedDomainName,d["a"]).addr(t.supportedCoins[e].id))})),n.next=42,Promise.all(u).then((function(n){n.forEach((function(n,a){n&&(t.supportedCoins[c[a]].value=t.supportedCoins[c[a]].encode(new e(n.replace("0x",""),"hex")))}))}));case 42:n.next=47;break;case 44:return n.next=46,t.ens.resolver(t.parsedDomainName).addr();case 46:t.supportedCoins.ETH.value=n.sent;case 47:n.next=52;break;case 49:n.prev=49,n.t2=n["catch"](26),t.supportedCoins.ETH.value="0x";case 52:t.owner=a,"/interface/dapps/manage-ens"===t.$route.fullPath?t.$router.push({path:"manage-ens/owned"}):t.$router.push({path:"owned"}),t.loading=!1;case 55:case"end":return n.stop()}}),n,null,[[0,12],[16,23],[26,49]])})))()},fetchTxtRecords:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.methods.supportsInterface(M).call();case 3:if(a=n.sent,t.resolverTxtSupport=a,!a){n.next=12;break}t.recordContract=e,r=[],t.supportedTxt.forEach((function(n){r.push(e.methods.text(t.nameHash,n.name).call())})),Promise.all(r).then((function(e){e.forEach((function(e,n){t.txtRecords[t.supportedTxt[n].name]=e}))})),n.next=13;break;case 12:throw new Error("not supported");case 13:n.next=20;break;case 15:n.prev=15,n.t0=n["catch"](0),t.recordContract={},t.txtRecords={},t.resolverTxtSupport=!1;case 20:case"end":return n.stop()}}),n,null,[[0,15]])})))()},setRecord:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,o,p,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(a in e)t.txtRecords[a]=e[a];return n.next=3,t.resolverMigrateAndSet();case 3:if(r=n.sent,!r){n.next=6;break}return n.abrupt("return");case 6:for(u in s=t.account.address,i=t.publicResolverAddress,o=t.recordContract,p=[],e)p.push(o.methods.setText(t.nameHash,u,e[u]).encodeABI());d={from:s,to:i,data:o.methods.multicall(p).encodeABI(),gasPrice:new g.a(c["toWei"](t.gasPrice,"gwei")).toFixed(),value:0},t.web3.eth.sendTransaction(d);case 13:case"end":return n.stop()}}),n)})))()},updateSecretPhrase:function(e){this.secretPhrase=e},updateDuration:function(e){this.duration=e},generateKeyPhrase:function(){for(var e=[],t=0,n=T.wordlists.EN.length,a=0;a<3;a++)e.push(T.wordlists.EN[Math.floor(Math.random()*(n-t+1))+t]);this.secretPhrase=e.join(" ")}}}}).call(this,n("1c35").Buffer)},b809b:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"manage-ens-container"},[n("back-button"),n("router-view",{attrs:{"contract-initiated":e.contractInitiated,"check-domain":e.checkDomain,"secret-phrase":e.secretPhrase,"host-name":e.parsedHostName,"domain-name":e.parsedDomainName,loading:e.loading,"name-hash":e.nameHash,"label-hash":e.labelHash,owner:e.owner,"deed-owner":e.deedOwner,raw:e.raw,step:e.step,"domain-name-err":e.domainNameErr,"generate-key-phrase":e.generateKeyPhrase,"set-multi-coin":e.setMultiCoin,"transfer-domain":e.transferDomain,tld:""===e.parsedTld?e.network.type.ens.registrarTLD:e.parsedTld,"network-name":e.network.type.name,"register-fifs-name":e.registerFifsName,"multi-tld":e.multiTld,"claim-func":e.claimFunc,"dns-owner":e.dnsOwner,"dns-claim":e.dnsClaim,"create-commitment":e.createCommitment,"register-with-duration":e.registerWithDuration,"minimum-age":e.minimumAge,"commitment-created":e.commitmentCreated,"resolver-multi-coin-support":e.resolverMultiCoinSupport,"resolver-txt-support":e.resolverTxtSupport,"supported-coins":e.supportedCoins,"txt-records":e.txtRecords,"set-record":e.setRecord,usd:e.usd},on:{updateSecretPhrase:e.updateSecretPhrase,domainNameChange:e.updateDomainName,updateStep:e.updateStep,updateDuration:e.updateDuration}})],1)},r=[],s=n("b590"),i=s["a"],o=(n("9e8b"),n("2877")),p=Object(o["a"])(i,a,r,!1,null,"13a74d8e",null);t["default"]=p.exports},c02d:function(e,t,n){"use strict";var a=[{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"commitments",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"MIN_REGISTRATION_DURATION",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minCommitmentAge",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maxCommitmentAge",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_base",type:"address"},{name:"_prices",type:"address"},{name:"_minCommitmentAge",type:"uint256"},{name:"_maxCommitmentAge",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"name",type:"string"},{indexed:!0,name:"label",type:"bytes32"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"cost",type:"uint256"},{indexed:!1,name:"expires",type:"uint256"}],name:"NameRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"name",type:"string"},{indexed:!0,name:"label",type:"bytes32"},{indexed:!1,name:"cost",type:"uint256"},{indexed:!1,name:"expires",type:"uint256"}],name:"NameRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"oracle",type:"address"}],name:"NewPriceOracle",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:!0,inputs:[{name:"name",type:"string"},{name:"duration",type:"uint256"}],name:"rentPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"name",type:"string"}],name:"valid",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{name:"name",type:"string"}],name:"available",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"name",type:"string"},{name:"owner",type:"address"},{name:"secret",type:"bytes32"}],name:"makeCommitment",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{name:"name",type:"string"},{name:"owner",type:"address"},{name:"secret",type:"bytes32"},{name:"resolver",type:"address"},{name:"addr",type:"address"}],name:"makeCommitmentWithConfig",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"commitment",type:"bytes32"}],name:"commit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"name",type:"string"},{name:"owner",type:"address"},{name:"duration",type:"uint256"},{name:"secret",type:"bytes32"}],name:"register",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"name",type:"string"},{name:"owner",type:"address"},{name:"duration",type:"uint256"},{name:"secret",type:"bytes32"},{name:"resolver",type:"address"},{name:"addr",type:"address"}],name:"registerWithConfig",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"name",type:"string"},{name:"duration",type:"uint256"}],name:"renew",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"_prices",type:"address"}],name:"setPriceOracle",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_minCommitmentAge",type:"uint256"},{name:"_maxCommitmentAge",type:"uint256"}],name:"setCommitmentAges",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"pure",type:"function"}];t["a"]=a},d9f9:function(e,t,n){"use strict";t["a"]=[{constant:!0,inputs:[],name:"ens",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"expiryTimes",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"subnode",type:"bytes32"},{name:"owner",type:"address"}],name:"register",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"rootNode",outputs:[{name:"",type:"bytes32"}],payable:!1,type:"function"},{inputs:[{name:"ensAddr",type:"address"},{name:"node",type:"bytes32"}],type:"constructor"}]}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-8be2091a.ce12e293.js.map